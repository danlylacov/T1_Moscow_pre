lint:
  stage: lint
  image: node:${NODE_VERSION:-18}
  cache:
    key: ${CI_COMMIT_REF_SLUG}-node
    paths:
      - node_modules/
  dependencies: []
  before_script:
    - npm ci --cache .npm --prefer-offline || npm install
  script:
    - npm run lint || eslint . --ext .js,.jsx,.ts,.tsx || echo "Lint script not found"
    - npm run format:check || prettier --check . || echo "Format check not found"
  artifacts:
    when: on_failure
    paths:
      - lint-report/
    expire_in: 1 week
  allow_failure: true

