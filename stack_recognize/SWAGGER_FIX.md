# Исправление проблемы NetworkError в Swagger UI

## Что было сделано:

1. ✅ Добавлен `TimeoutMiddleware` для увеличения таймаутов на сервере
2. ✅ Настроен uvicorn с параметрами `--timeout-keep-alive 600`
3. ✅ Добавлены заголовки `Keep-Alive` и `X-Accel-Buffering: no`
4. ✅ Настроен Swagger UI с `requestTimeout: 600000` (10 минут)

## Как использовать:

### Вариант 1: Использовать Swagger UI (рекомендуется)

1. Откройте http://localhost:8001/docs
2. Выполните запрос через Swagger UI
3. **Важно**: Не закрывайте вкладку браузера во время выполнения запроса
4. Дождитесь завершения (может занять до 5-10 минут для больших репозиториев)

### Вариант 2: Использовать curl (самый надежный)

```bash
curl -X POST "http://localhost:8001/analyze" \
  -H "Content-Type: application/json" \
  -d '{"repo_url": "https://github.com/kovidgoyal/calibre", "token": ""}'
```

### Вариант 3: Использовать другие HTTP-клиенты

- **Postman**: Настройте таймаут в Settings → General → Request timeout (установите 600 секунд)
- **Insomnia**: Настройки → Preferences → Request timeout
- **httpie**: `http POST localhost:8001/analyze repo_url="https://github.com/..."`

## Если проблема сохраняется:

1. **Проверьте консоль браузера** (F12) на наличие ошибок
2. **Увеличьте таймаут в браузере** (если возможно)
3. **Используйте curl** - он работает надежнее для долгих запросов
4. **Проверьте логи сервера** на наличие ошибок

## Технические детали:

- Таймаут сервера: 600 секунд (10 минут)
- Keep-Alive: включен
- Буферизация: отключена для потоковой передачи
- Swagger UI timeout: 600000 мс (10 минут)

